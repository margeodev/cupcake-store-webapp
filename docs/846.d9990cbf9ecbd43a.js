"use strict";(self.webpackChunkcupcake_store=self.webpackChunkcupcake_store||[]).push([[846],{1846:(D,c,a)=>{a.r(c),a.d(c,{CardapioModule:()=>M});var l=a(6814),u=a(72),d=function(e){return e.ADD="Adicionar",e.REMOVE="Remover",e}(d||{}),t=a(4946),m=a(2023),h=a(3259),f=a(5219),g=a(707),Z=a(8608),v=a(2729),C=a(3714),T=a(7421);function A(e,s){1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nome"),t.qZA(),t._UZ(3,"th"),t.TgZ(4,"th"),t._uU(5,"C\xf3digo"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Pre\xe7o"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Descri\xe7\xe3o"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Quantidade"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Adicionar"),t.qZA()())}function x(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",20),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td")(15,"div",21)(16,"button",22),t.NdJ("click",function(){const r=t.CHM(i).$implicit,p=t.oxw();return t.KtG(p.adicionarProduto(r))}),t.qZA(),t.TgZ(17,"button",23),t.NdJ("click",function(){const r=t.CHM(i).$implicit,p=t.oxw();return t.KtG(p.removerProduto(r))}),t.qZA()()()()}if(2&e){const i=s.$implicit;t.xp6(2),t.Oqu(i.name),t.xp6(2),t.Q6J("src",i.image,t.LSH)("alt",i.name),t.xp6(2),t.Oqu(i.code),t.xp6(2),t.Oqu(t.xi3(9,7,i.price,"BRL")),t.xp6(3),t.Oqu(i.description),t.xp6(2),t.Oqu(i.quantity)}}function b(e,s){if(1&e&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.hij(" In total there are ",i.products?i.products.length:0," products. ")}}const y=function(){return{icon:"pi pi-home",routerLink:"/"}},q=function(){return{label:"Card\xe1pio"}},B=function(e,s){return[e,s]},P=function(){return{"min-width":"60rem"}},_=[{path:"",component:(()=>{class e{constructor(i,o){this.productService=i,this.router=o,this.badgeValue="0",this.pedido={},this.isButtonDisabled=!0}ngOnInit(){this.getProducts()}getProducts(){this.productService.getProducts().subscribe(o=>{this.products=o,this.products=o.map(n=>(n.image=`assets/images/${n.image}`,n))})}removerProduto(i){this.removerProdutoPorId(i.id),this.updateProductQuantityById(i.id,d.REMOVE),"0"!==this.badgeValue&&this.updateBadgeValue(),this.handleButtonFinalizarCompra()}updateProductQuantityById(i,o){const n=this.findProductById(i);let r=n?.quantity?n?.quantity:0;o===d.ADD&&(n.quantity=r+=1),o===d.REMOVE&&n.quantity>0&&(n.quantity=r-=1)}findProductById(i){return this.products.find(o=>o.id===i)}updateBadgeValue(){this.badgeValue=this.pedido.produtos?.length.toString()}removerProdutoPorId(i){const o=this.pedido.produtos?.findIndex(n=>n.id===i);void 0!==o&&-1!==o&&this.pedido?.produtos?.splice(o,1)}adicionarProduto(i){this.pedido.produtos||(this.pedido.produtos=[]),this.pedido.produtos.push(i),this.updateProductQuantityById(i.id,d.ADD),this.updateBadgeValue(),this.handleButtonFinalizarCompra()}finalizarPedido(){localStorage.setItem("pedido",JSON.stringify(this.pedido)),localStorage.setItem("badgeValue",this.badgeValue),this.router.navigate(["/carrinho"])}handleButtonFinalizarCompra(){this.isButtonDisabled=!(this.pedido.produtos?.length>0)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(m.M),t.Y36(u.F0))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["cardapio"]],decls:23,vars:11,consts:[[1,"custom-main-card"],[1,"mt-4"],[3,"items"],[1,"flex","align-items-center","justify-content-between","mt-5"],[1,"w-5"],[1,"w-4","flex","justify-content-between","align-items-center"],[1,"pi","pi-shopping-cart",2,"font-size","1.5rem"],[3,"value"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["disabled","","type","text","pInputText",""],[1,"pi","pi-question-circle",2,"font-size","2rem"],[1,"w-2","align-items-end"],["label","Finalizar Pedido",3,"disabled","click"],[1,"flex","justify-content-end"],["routerLink","/home","pTooltip","Sair",1,"pi","pi-sign-out","cursor-pointer",2,"font-size","2rem"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["width","100",1,"shadow-4",3,"src","alt"],[1,"flex","align-items-center","justify-content-between"],["pTooltip","Adicionar cupcake","pButton","","pRipple","","icon","pi pi-cart-plus",1,"p-button-success",3,"click"],["pTooltip","Remover cupcake","pButton","","pRipple","","icon","pi pi-cart-minus",1,"p-button-danger","ml-2",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-breadcrumb",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"h1"),t._uU(6,"Card\xe1pio"),t.qZA()(),t.TgZ(7,"div",5)(8,"span",6),t._UZ(9,"p-badge",7),t.qZA(),t.TgZ(10,"span",8),t._UZ(11,"i",9)(12,"input",10),t.qZA(),t._UZ(13,"span",11),t.qZA(),t.TgZ(14,"div",12)(15,"p-button",13),t.NdJ("click",function(){return n.finalizarPedido()}),t.qZA()(),t.TgZ(16,"div",14),t._UZ(17,"span",15),t.qZA()(),t.TgZ(18,"div",1)(19,"p-table",16),t.YNc(20,A,14,0,"ng-template",17),t.YNc(21,x,18,10,"ng-template",18),t.YNc(22,b,2,1,"ng-template",19),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("items",t.WLB(7,B,t.DdM(5,y),t.DdM(6,q))),t.xp6(7),t.Q6J("value",n.badgeValue),t.xp6(6),t.Q6J("disabled",n.isButtonDisabled),t.xp6(4),t.Q6J("value",n.products)("tableStyle",t.DdM(10,P)))},dependencies:[u.rH,h.u,f.jx,g.Hq,g.zx,Z.Ct,v.iA,C.o,T.L,l.H9],styles:[".custom-main-card[_ngcontent-%COMP%]{width:1170px;background:#ffffff;border-radius:15px;padding:30px}"]})}return e})()}];let U=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(_),u.Bz]})}return e})(),M=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({providers:[m.M],imports:[l.ez,U]})}return e})()}}]);